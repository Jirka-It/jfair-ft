<p-toolbar>
  <div class="p-toolbar-group-left">
      <h1>{{title}}</h1>                   
  </div>
  
  <div class="p-toolbar-group-right">
      <p-button class="mr-1" label="Guardar" (click)="saveform()"></p-button>
      <p-button class="mr-1" label="Regresar"(click)="hideForm()"styleClass="p-button-info" *ngIf="idEvent >= 0"></p-button>
  </div>
</p-toolbar>


<div class="form-container mt-2">
  
  
  <div class="card form-text">
      <form [formGroup]="formEvent">

        <!--div class="form-row">
          <p-colorPicker></p-colorPicker>
        </div-->

        <div class="form-row">
          <span class="p-float-label">
            <input type="text" [class.invalid]="isValid('sigla')" class="w-full" formControlName="sigla" pInputText>
            <label>Slug</label>
          </span>
          <span class="p-float-label">
            <input type="text" [class.invalid]="isValid('name')" class="w-full" formControlName="name" pInputText>
            <label>Nombre</label>
          </span>
        </div>

        <div class="form-row">
          <span class="p-float-label">
            <p-calendar [showIcon]="true" [class.invalid]="isValid('openDate')" inputId="icon" formControlName="openDate" styleClass="w-full"></p-calendar>
            <label>Apertura</label>
          </span>
      
          <span class="p-float-label">
            <p-calendar [showIcon]="true" [class.invalid]="isValid('closeDate')" inputId="icon" formControlName="closeDate" styleClass="w-full"></p-calendar>
            <label>Cierre</label>
          </span>
        </div>

        <div class="form-row">
          <span  class="p-float-label">
            <span [class.invalid]="isValid('summary')" class="label-title" for="Resume">
              Resumen {{isValid('summary')?'*':''}}
            </span>
            <p-editor id="Resume" formControlName="summary">        
            </p-editor>
          </span>  
        </div>
        
        <div class="form-row">
          <span class="p-float-label">
            <span [class.invalid]="isValid('description')" class="label-title" for="Descripcion">
              Descripcion {{isValid('description')?'*':''}}
            </span>
            <p-editor id="Descripcion" formControlName="description">        
            </p-editor>
          </span>
        </div>
        
        <div class="form-row">
          <span class="p-float-label">
            <span [class.invalid]="isValid('plan')" class="label-title" for="Plan">
              Plan {{isValid('plan')?'*':''}}
            </span>
            <p-editor id="Plan" formControlName="plan">        
            </p-editor>
          </span>
        </div>
        
        <div class="form-row">
          <span class="p-float-label">
            <span [class.invalid]="isValid('terms')" class="label-title" for="Terminos">
              TÃ©rminos {{isValid('terms')?'*':''}}
            </span>
            
            <p-editor id="Terminos" formControlName="terms" >        
            </p-editor>
          </span>
        </div>

        <div class="form-row">
          <span class="p-float-label">
            <span [class.invalid]="isValid('info')" class="label-title" for="contacto">
              Contacto {{isValid('info')?'*':''}}
            </span>
            <p-editor id="contacto" formControlName="info">        
            </p-editor>
          </span>            
                 
        </div>

        <div class="form-row">
          <span class="p-float-label">
            <p-autoComplete 
            id="State"
            [class.invalid]="isValid('state')"
            formControlName="state"
            [(ngModel)]="state" 
            [suggestions]="filtrateStates" 
            (completeMethod)="filterState($event)"
            field="name"            
            [dropdown]="true">
            <ng-template let-states pTemplate="name">
              <div class="state-name">
                <div>{{states.name}}</div>
              </div>
            </ng-template>
          </p-autoComplete>
          <label>Estado</label>
          </span>

          <span class="col-1  p-float-label">      
            <span class="label-title">
              Color {{isValid('color')?'*':''}}
            </span>
            <p-colorPicker formControlName="color" ></p-colorPicker>
          </span>
        </div>

      </form>
  </div>

  <div class="form-img">
    
    <app-image-manager [image]="images['poster']" [keyImage]="'poster'" ></app-image-manager>
    <app-image-manager [image]="images['mapa']" [keyImage]="'mapa'" ></app-image-manager>
    <app-image-manager [image]="images['image']" [keyImage]="'imagen'" ></app-image-manager>


  </div>

</div>
